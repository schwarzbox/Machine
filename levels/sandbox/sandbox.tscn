[gd_scene load_steps=9 format=3 uid="uid://g4rmqos0xxtn"]

[ext_resource type="PackedScene" uid="uid://bpsu2pj51hgan" path="res://scenes/menus/file_menu/file_menu.tscn" id="1"]
[ext_resource type="Script" path="res://levels/sandbox/sandbox.gd" id="3"]
[ext_resource type="PackedScene" uid="uid://qhkn0mu3b130" path="res://levels/base/level.tscn" id="4"]
[ext_resource type="PackedScene" uid="uid://bkgkrn50kx3se" path="res://scenes/menus/popup_tool/popup_tool.tscn" id="4_ftjbc"]
[ext_resource type="PackedScene" uid="uid://b6acfo7s7rnlx" path="res://scenes/menus/element_menu/element_menu.tscn" id="5"]
[ext_resource type="Script" path="res://levels/sandbox/objects.gd" id="6"]
[ext_resource type="PackedScene" uid="uid://pvd2iu5xx0tn" path="res://scenes/base/camera/camera_2d.tscn" id="7"]

[sub_resource type="LabelSettings" id="LabelSettings_0s3ey"]
font_size = 24

[node name="Sandbox" instance=ExtResource("4")]
script = ExtResource("3")
type = 2

[node name="ElementMenu" parent="CanvasLayer" index="0" instance=ExtResource("5")]

[node name="PopupTool" parent="CanvasLayer" index="1" instance=ExtResource("4_ftjbc")]
visible = false

[node name="LevelMenu" parent="CanvasLayer" index="2"]
offset_left = 0.0
offset_bottom = 0.0

[node name="Label" parent="CanvasLayer/LevelMenu" index="0"]
text = "Sandbox"
label_settings = SubResource("LabelSettings_0s3ey")

[node name="ColorRect" parent="CanvasLayer/LevelMenu/Label" index="0"]
color = Color(0.12549, 0.12549, 0.12549, 1)

[node name="FileMenu" parent="CanvasLayer/LevelMenu/Info" index="1" instance=ExtResource("1")]
layout_mode = 2

[node name="Objects" parent="." index="1"]
script = ExtResource("6")

[node name="Camera2D" parent="." index="2" instance=ExtResource("7")]
offset = Vector2(800, 600)

[connection signal="button_pressed" from="CanvasLayer/ElementMenu" to="Objects" method="_on_element_menu_button_pressed"]
[connection signal="element_added" from="CanvasLayer/ElementMenu" to="Objects" method="_on_element_menu_element_added"]
[connection signal="sprite_hided" from="CanvasLayer/ElementMenu" to="Cursor" method="_on_element_menu_sprite_hided"]
[connection signal="sprite_showed" from="CanvasLayer/ElementMenu" to="Cursor" method="_on_element_menu_sprite_showed"]
[connection signal="clone_pressed" from="CanvasLayer/PopupTool" to="Objects" method="_on_popup_tool_clone_pressed"]
[connection signal="delete_pressed" from="CanvasLayer/PopupTool" to="Objects" method="_on_popup_tool_delete_pressed"]
[connection signal="flip_pressed" from="CanvasLayer/PopupTool" to="Objects" method="_on_popup_tool_flip_pressed"]
[connection signal="unlink_pressed" from="CanvasLayer/PopupTool" to="Objects" method="_on_popup_tool_unlink_pressed"]
[connection signal="element_added" from="CanvasLayer/LevelMenu/Info/FileMenu" to="Objects" method="_on_file_menu_element_added"]
[connection signal="elements_deleted" from="CanvasLayer/LevelMenu/Info/FileMenu" to="Objects" method="_on_file_menu_elements_deleted"]
[connection signal="file_loaded" from="CanvasLayer/LevelMenu/Info/FileMenu" to="Camera2D" method="_on_file_menu_file_loaded"]
[connection signal="file_name_changed" from="CanvasLayer/LevelMenu/Info/FileMenu" to="CanvasLayer/LevelMenu" method="_on_file_menu_file_name_changed"]
[connection signal="menu_hided" from="CanvasLayer/LevelMenu/Info/FileMenu" to="CanvasLayer/LevelMenu" method="_on_file_menu_menu_hided"]
[connection signal="sprite_hided" from="CanvasLayer/LevelMenu/Info/FileMenu" to="Cursor" method="_on_file_menu_sprite_hided"]
[connection signal="sprite_showed" from="CanvasLayer/LevelMenu/Info/FileMenu" to="Cursor" method="_on_file_menu_sprite_showed"]
[connection signal="clone_pressed" from="Objects" to="CanvasLayer/ElementMenu" method="_on_objects_clone_pressed"]
[connection signal="cursor_shape_updated" from="Objects" to="Cursor" method="_on_objects_cursor_shape_updated"]
[connection signal="menu_poped" from="Objects" to="CanvasLayer/PopupTool" method="_on_objects_menu_poped"]
[connection signal="scene_deselected" from="Objects" to="CanvasLayer/ElementMenu" method="_on_objects_scene_deselected"]
[connection signal="sprite_hided" from="Objects" to="Cursor" method="_on_objects_sprite_hided"]
[connection signal="sprite_position_updated" from="Objects" to="Cursor" method="_on_objects_sprite_position_updated"]
[connection signal="sprite_showed" from="Objects" to="Cursor" method="_on_objects_sprite_showed"]
[connection signal="sprite_texture_removed" from="Objects" to="Cursor" method="_on_objects_sprite_texture_removed"]
[connection signal="sprite_texture_saved" from="Objects" to="Cursor" method="_on_objects_sprite_texture_saved"]
[connection signal="zoom_changed" from="Camera2D" to="Objects" method="_on_camera_2d_zoom_changed"]
